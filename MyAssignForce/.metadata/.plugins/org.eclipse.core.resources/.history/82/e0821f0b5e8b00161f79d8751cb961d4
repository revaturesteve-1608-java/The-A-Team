package com.af.model;

import java.sql.Timestamp;
import java.util.ArrayList;
import java.util.List;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.persistence.ManyToMany;
import javax.persistence.SequenceGenerator;
import javax.persistence.Table;

@Entity
@Table(name = "UNAVILABLE")
public class Unavailable {
	
	@Id
	@Column(name = "UN_ID")
	@SequenceGenerator(allocationSize = 1, name = "unvailableSeq", sequenceName = "UNVAILABLE_SEQ")
	@GeneratedValue(generator = "unvailableSeq", strategy = GenerationType.SEQUENCE)
	private int unvailableID;
	
	@Column(name = "UN_START_DATE", nullable=false)
	private Timestamp unvailableStartDate;

	@Column(name = "UN_END_DATE", nullable=false)
	private Timestamp unvailableEndDate;
	
	@ManyToMany(fetch=FetchType.EAGER)
	@JoinTable(name="TR_UN_JT", 
	joinColumns=@JoinColumn(name="UN_ID"), 
	inverseJoinColumns=@JoinColumn(name="T_ID"))
	private List<Trainer> trainer;
	
	@ManyToMany(fetch=FetchType.EAGER)
	@JoinTable(name="R_UN_JT", 
	joinColumns=@JoinColumn(name="UN_ID"), 
	inverseJoinColumns=@JoinColumn(name="R_ID"))
	private List<Room> room;

	public Unavailable() {
		super();
		this.trainer = new ArrayList<Trainer>();
		this.room = new ArrayList<Room>();
	}

	public Unavailable(int unvailableID, Timestamp unvailableStartDate, Timestamp unvailableEndDate) {
		super();
		this.unvailableID = unvailableID;
		this.unvailableStartDate = unvailableStartDate;
		this.unvailableEndDate = unvailableEndDate;
	}

	public Unavailable(int unvailableID, Timestamp unvailableStartDate, Timestamp unvailableEndDate,
			List<Trainer> trainer, List<Room> room) {
		super();
		this.unvailableID = unvailableID;
		this.unvailableStartDate = unvailableStartDate;
		this.unvailableEndDate = unvailableEndDate;
		this.trainer = trainer;
		this.room = room;
	}

	public int getUnvailableID() {
		return unvailableID;
	}

	public void setUnvailableID(int unvailableID) {
		this.unvailableID = unvailableID;
	}

	public Timestamp getUnvailableStartDate() {
		return unvailableStartDate;
	}

	public void setUnvailableStartDate(Timestamp unvailableStartDate) {
		this.unvailableStartDate = unvailableStartDate;
	}

	public Timestamp getUnvailableEndDate() {
		return unvailableEndDate;
	}

	public void setUnvailableEndDate(Timestamp unvailableEndDate) {
		this.unvailableEndDate = unvailableEndDate;
	}

	public List<Trainer> getTrainer() {
		return trainer;
	}

	public void setTrainer(List<Trainer> trainer) {
		this.trainer = trainer;
	}

	public List<Room> getRoom() {
		return room;
	}

	public void setRoom(List<Room> room) {
		this.room = room;
	}

	@Override
	public String toString() {
		return "Unavailable [unvailableID=" + unvailableID + ", unvailableStartDate=" + unvailableStartDate
				+ ", unvailableEndDate=" + unvailableEndDate + ", trainer=" + trainer + ", room=" + room + "]";
	}
}
